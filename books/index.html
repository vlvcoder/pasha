<!DOCTYPE html>
<html lang="ru">

<head>
    <!-- –°–æ–∑–¥–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é deepseek -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–Ω–∏–≥ - 100 –∫–Ω–∏–≥</title>
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Google Fonts for Material UI -->
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #1976d2;
            --primary-light: #42a5f5;
            --secondary: #9c27b0;
            --success: #2e7d32;
            --warning: #ed6c02;
            --error: #d32f2f;
            --info: #0288d1;
            --grey-50: #fafafa;
            --grey-100: #f5f5f5;
            --grey-200: #eeeeee;
            --grey-300: #e0e0e0;
            --grey-400: #bdbdbd;
            --grey-500: #9e9e9e;
            --grey-600: #757575;
            --grey-700: #616161;
            --grey-800: #424242;
            --grey-900: #212121;
            --shadow-1: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
            --shadow-2: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
            --shadow-3: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--grey-50);
            color: var(--grey-900);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 16px;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 32px 24px;
            border-radius: 12px;
            margin-bottom: 32px;
            box-shadow: var(--shadow-2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .header-content {
            flex: 1;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            font-weight: 300;
        }

        /* Add Book Button */
        .add-book-btn {
            background: white;
            color: var(--primary);
            border: none;
            padding: 14px 24px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow-2);
            white-space: nowrap;
        }

        .add-book-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-3);
            background: var(--grey-50);
        }

        .add-book-btn .material-icons {
            font-size: 22px;
        }

        /* Filter Section */
        .filters-section {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
            box-shadow: var(--shadow-1);
        }

        .filter-title {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--grey-700);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-title .material-icons {
            font-size: 20px;
        }

        /* Author Select */
        .author-filter {
            margin-bottom: 32px;
        }

        .select-wrapper {
            position: relative;
            max-width: 400px;
        }

        .select-wrapper select {
            width: 100%;
            padding: 14px 52px 14px 16px;
            font-size: 1rem;
            font-family: inherit;
            border: 1px solid var(--grey-300);
            border-radius: 8px;
            background-color: white;
            color: var(--grey-900);
            appearance: none;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: var(--shadow-1);
        }

        .select-wrapper select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
        }

        .select-wrapper select:hover {
            border-color: var(--grey-400);
        }

        .select-wrapper::after {
            content: "expand_more";
            font-family: 'Material Icons';
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: var(--grey-600);
            font-size: 24px;
        }

        /* Genre Filter Buttons */
        .genre-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 8px;
        }

        .genre-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 24px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            box-shadow: var(--shadow-1);
        }

        .genre-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-2);
        }

        .genre-btn.active {
            box-shadow: 0 0 0 2px white, 0 0 0 4px currentColor;
        }

        .genre-btn .material-icons {
            font-size: 18px;
        }

        /* Book List */
        .book-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        @media (max-width: 768px) {
            .book-list {
                grid-template-columns: 1fr;
            }
        }

        .book-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-1);
            border-left: 4px solid transparent;
            position: relative;
            min-height: 120px;
            overflow: hidden;
        }

        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-3);
            border-left-color: var(--primary);
        }

        .book-info {
            flex: 1;
            padding-right: 16px;
            min-width: 0;
            transition: all 0.3s ease;
        }

        .book-card:hover .book-info {
            padding-right: 80px;
        }

        .book-title {
            font-size: 1.2rem;
            font-weight: 500;
            color: var(--grey-900);
            margin-bottom: 8px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .book-author {
            font-size: 0.95rem;
            color: var(--grey-600);
            font-weight: 400;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .book-author .material-icons {
            font-size: 16px;
            opacity: 0.7;
        }

        /* Genre Icon - –¢–û–õ–¨–ö–û –ò–ö–û–ù–ö–ê –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ */
        .genre-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            box-shadow: var(--shadow-2);
            flex-shrink: 0;
            transition: all 0.3s ease;
            position: relative;
            z-index: 2;
        }

        .book-card:hover .genre-icon {
            transform: scale(1.1) rotate(5deg);
        }

        /* Tooltip for genre icon */
        .genre-icon:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translateY(-50%);
            background: var(--grey-800);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 500;
            white-space: nowrap;
            margin-right: 12px;
            z-index: 10;
            box-shadow: var(--shadow-2);
        }

        .genre-icon:hover::before {
            content: '';
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translateY(-50%);
            border-left: 6px solid var(--grey-800);
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            margin-right: 6px;
        }

        /* Action Buttons - –ù–û–í–´–ï –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô */
        .book-actions {
            position: absolute;
            right: 20px;
            bottom: -10px;
            transform: translateY(-50%) translateX(100%);
            display: flex;
            flex-direction: row;
            gap: 8px;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 3;
        }

        .book-card:hover .book-actions {
            transform: translateY(-50%) translateX(0);
            opacity: 1;
        }

        .action-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: var(--shadow-2);
            color: white;
            font-size: 18px;
        }

        .action-btn:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-3);
        }

        .edit-btn {
            background: var(--primary);
        }

        .edit-btn:hover {
            background: var(--primary-light);
        }

        .delete-btn {
            background: var(--error);
        }

        .delete-btn:hover {
            background: #f44336;
        }

        /* Overlay for actions */
        .book-card::before {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.9) 100%);
            transition: width 0.3s ease;
            z-index: 1;
        }

        .book-card:hover::before {
            width: 80px;
        }

        /* Genre Colors */
        .genre-fiction {
            background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
        }

        .genre-mystery {
            background: linear-gradient(135deg, #9c27b0 0%, #ba68c8 100%);
        }

        .genre-fantasy {
            background: linear-gradient(135deg, #2e7d32 0%, #4caf50 100%);
        }

        .genre-sci-fi {
            background: linear-gradient(135deg, #ed6c02 0%, #ff9800 100%);
        }

        .genre-romance {
            background: linear-gradient(135deg, #d32f2f 0%, #f44336 100%);
        }

        .genre-biography {
            background: linear-gradient(135deg, #0288d1 0%, #03a9f4 100%);
        }

        .genre-history {
            background: linear-gradient(135deg, #5d4037 0%, #8d6e63 100%);
        }

        .genre-classic {
            background: linear-gradient(135deg, #7b1fa2 0%, #9c27b0 100%);
        }

        .genre-adventure {
            background: linear-gradient(135deg, #00796b 0%, #0097a7 100%);
        }

        .genre-horror {
            background: linear-gradient(135deg, #5d4037 0%, #795548 100%);
        }

        .genre-poetry {
            background: linear-gradient(135deg, #f57c00 0%, #ffa726 100%);
        }

        .genre-drama {
            background: linear-gradient(135deg, #c2185b 0%, #e91e63 100%);
        }

        .genre-comedy {
            background: linear-gradient(135deg, #fbc02d 0%, #fdd835 100%);
        }

        .genre-btn.genre-fiction {
            color: #1976d2;
            background: rgba(25, 118, 210, 0.1);
            border: 2px solid #1976d2;
        }

        .genre-btn.genre-mystery {
            color: #9c27b0;
            background: rgba(156, 39, 176, 0.1);
            border: 2px solid #9c27b0;
        }

        .genre-btn.genre-fantasy {
            color: #2e7d32;
            background: rgba(46, 125, 50, 0.1);
            border: 2px solid #2e7d32;
        }

        .genre-btn.genre-sci-fi {
            color: #ed6c02;
            background: rgba(237, 108, 2, 0.1);
            border: 2px solid #ed6c02;
        }

        .genre-btn.genre-romance {
            color: #d32f2f;
            background: rgba(211, 47, 47, 0.1);
            border: 2px solid #d32f2f;
        }

        .genre-btn.genre-biography {
            color: #0288d1;
            background: rgba(2, 136, 209, 0.1);
            border: 2px solid #0288d1;
        }

        .genre-btn.genre-history {
            color: #5d4037;
            background: rgba(93, 64, 55, 0.1);
            border: 2px solid #5d4037;
        }

        .genre-btn.genre-classic {
            color: #7b1fa2;
            background: rgba(123, 31, 162, 0.1);
            border: 2px solid #7b1fa2;
        }

        .genre-btn.genre-adventure {
            color: #00796b;
            background: rgba(0, 121, 107, 0.1);
            border: 2px solid #00796b;
        }

        .genre-btn.genre-horror {
            color: #5d4037;
            background: rgba(93, 64, 55, 0.1);
            border: 2px solid #5d4037;
        }

        .genre-btn.genre-poetry {
            color: #f57c00;
            background: rgba(245, 124, 0, 0.1);
            border: 2px solid #f57c00;
        }

        .genre-btn.genre-drama {
            color: #c2185b;
            background: rgba(194, 24, 91, 0.1);
            border: 2px solid #c2185b;
        }

        .genre-btn.genre-comedy {
            color: #fbc02d;
            background: rgba(251, 192, 45, 0.1);
            border: 2px solid #fbc02d;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--grey-500);
            grid-column: 1 / -1;
        }

        .empty-state .material-icons {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.3;
        }

        /* Active filters indicator */
        .active-filters {
            display: flex;
            gap: 12px;
            margin-top: 16px;
            flex-wrap: wrap;
            align-items: center;
        }

        .active-filter-tag {
            padding: 8px 16px;
            background: var(--grey-100);
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--grey-700);
        }

        .clear-btn {
            padding: 10px 20px;
            background: var(--grey-200);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .clear-btn:hover {
            background: var(--grey-300);
        }

        /* Results Counter */
        .results-counter {
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
            box-shadow: var(--shadow-1);
            margin-right: auto;
        }

        .results-counter .material-icons {
            font-size: 18px;
        }

        .results-counter .count-number {
            font-weight: 700;
            font-size: 1.1rem;
            margin: 0 2px;
        }

        /* Filters header */
        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            flex-wrap: wrap;
            gap: 12px;
        }

        .filters-header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin-top: 32px;
            flex-wrap: wrap;
        }

        .pagination-btn {
            padding: 10px 16px;
            background: white;
            border: 1px solid var(--grey-300);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            min-width: 40px;
            text-align: center;
        }

        .pagination-btn:hover:not(:disabled) {
            background: var(--grey-100);
            border-color: var(--grey-400);
        }

        .pagination-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-info {
            margin: 0 16px;
            color: var(--grey-600);
            font-size: 0.9rem;
        }

        /* Animation for filtering */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .book-card {
            animation: fadeIn 0.3s ease-out;
        }

        /* Counter animation */
        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .results-counter.updated {
            animation: pulse 0.3s ease;
        }

        /* Stats */
        .stats {
            display: flex;
            gap: 20px;
            margin-top: 16px;
            flex-wrap: wrap;
        }

        .stat-item {
            background: white;
            padding: 12px 16px;
            border-radius: 8px;
            box-shadow: var(--shadow-1);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .stat-item .material-icons {
            color: var(--primary);
        }

        /* Modal for adding/editing books */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: white;
            border-radius: 16px;
            padding: 32px;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow-3);
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 500;
            margin-bottom: 24px;
            color: var(--grey-900);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--grey-700);
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--grey-300);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.2s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
        }

        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 32px;
        }

        .modal-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .modal-btn.cancel {
            background: var(--grey-200);
            color: var(--grey-700);
        }

        .modal-btn.cancel:hover {
            background: var(--grey-300);
        }

        .modal-btn.save {
            background: var(--primary);
            color: white;
        }

        .modal-btn.save:hover {
            background: var(--primary-light);
        }

        /* Confirmation Dialog */
        .confirmation-dialog {
            text-align: center;
            padding: 20px;
        }

        .confirmation-dialog .material-icons {
            font-size: 48px;
            color: var(--error);
            margin-bottom: 16px;
        }

        .confirmation-dialog h3 {
            margin-bottom: 16px;
            color: var(--grey-900);
        }

        .confirmation-dialog p {
            color: var(--grey-600);
            margin-bottom: 24px;
        }

        /* Responsive adjustments for action buttons */
        @media (max-width: 768px) {
            .book-card {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .book-info {
                padding-right: 0;
                width: 100%;
            }

            .book-card:hover .book-info {
                padding-right: 0;
            }

            .book-actions {
                position: static;
                flex-direction: row;
                transform: none;
                opacity: 1;
                width: 100%;
                justify-content: flex-end;
                margin-top: 12px;
            }

            .book-card::before {
                display: none;
            }

            .genre-icon {
                position: absolute;
                right: 20px;
                top: 20px;
            }

            .header {
                flex-direction: column;
                text-align: center;
            }

            .add-book-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Header with Add Book Button -->
        <header class="header">
            <div class="header-content">
                <h1>üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ - 100 –∫–Ω–∏–≥</h1>
                <p>–ë–æ–ª—å—à–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –∫–Ω–∏–≥ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π</p>
            </div>
            <button class="add-book-btn" id="addBookBtn">
                <span class="material-icons">add_circle</span>
                –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É
            </button>
        </header>

        <!-- Filters Section -->
        <section class="filters-section">
            <!-- Filters Header with Results Counter -->
            <div class="filters-header">
                <div class="filters-header-left">
                    <div class="results-counter" id="resultsCounter">
                        <span class="material-icons">menu_book</span>
                        <span>–ù–∞–π–¥–µ–Ω–æ –∫–Ω–∏–≥: <span class="count-number" id="booksCount">100</span></span>
                    </div>
                </div>
            </div>

            <!-- Author Filter -->
            <div class="author-filter">
                <div class="filter-title">
                    <span class="material-icons">person</span>
                    –§–∏–ª—å—Ç—Ä –ø–æ –∞–≤—Ç–æ—Ä—É
                </div>
                <div class="select-wrapper">
                    <select id="authorFilter">
                        <option value="all">–í—Å–µ –∞–≤—Ç–æ—Ä—ã (47)</option>
                        <!-- Authors will be populated by JavaScript -->
                    </select>
                </div>
            </div>

            <!-- Genre Filter -->
            <div class="genre-filter">
                <div class="filter-title">
                    <span class="material-icons">category</span>
                    –§–∏–ª—å—Ç—Ä –ø–æ –∂–∞–Ω—Ä—É (13 –∂–∞–Ω—Ä–æ–≤)
                </div>
                <div class="genre-filters" id="genreFilters">
                    <!-- Genre buttons will be populated by JavaScript -->
                </div>
            </div>

            <!-- Active Filters -->
            <div class="active-filters" id="activeFilters">
                <!-- Active filters will appear here -->
            </div>

            <!-- Stats -->
            <div class="stats">
                <div class="stat-item">
                    <span class="material-icons">auto_stories</span>
                    <span>–í—Å–µ–≥–æ –∫–Ω–∏–≥: <strong>100</strong></span>
                </div>
                <div class="stat-item">
                    <span class="material-icons">groups</span>
                    <span>–ê–≤—Ç–æ—Ä–æ–≤: <strong>47</strong></span>
                </div>
                <div class="stat-item">
                    <span class="material-icons">category</span>
                    <span>–ñ–∞–Ω—Ä–æ–≤: <strong>13</strong></span>
                </div>
            </div>
        </section>

        <!-- Books List -->
        <section class="book-list" id="bookList">
            <!-- Books will be populated by JavaScript -->
        </section>

        <!-- Pagination -->
        <div class="pagination" id="pagination">
            <!-- Pagination will be populated by JavaScript -->
        </div>
    </div>

    <!-- Modal for Adding/Editing Book -->
    <div class="modal-overlay" id="bookModal">
        <div class="modal">
            <div class="modal-title">
                <span class="material-icons" id="modalIcon">library_add</span>
                <span id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–Ω–∏–≥—É</span>
            </div>
            <form id="bookForm">
                <div class="form-group">
                    <label for="bookTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏</label>
                    <input type="text" id="bookTitle" required placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏">
                </div>
                <div class="form-group">
                    <label for="bookAuthor">–ê–≤—Ç–æ—Ä</label>
                    <input type="text" id="bookAuthor" required placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∞–≤—Ç–æ—Ä–∞">
                </div>
                <div class="form-group">
                    <label for="bookGenre">–ñ–∞–Ω—Ä</label>
                    <select id="bookGenre" required>
                        <!-- Genres will be populated by JavaScript -->
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="modal-btn cancel" id="cancelBtn">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="modal-btn save" id="saveBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Confirmation Dialog for Delete -->
    <div class="modal-overlay" id="confirmModal">
        <div class="modal">
            <div class="confirmation-dialog">
                <span class="material-icons">warning</span>
                <h3 id="confirmTitle">–£–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É?</h3>
                <p id="confirmMessage">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–Ω–∏–≥—É? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
                <div class="modal-actions">
                    <button type="button" class="modal-btn cancel" id="confirmCancel">–û—Ç–º–µ–Ω–∞</button>
                    <button type="button" class="modal-btn save" id="confirmDelete"
                        style="background: var(--error);">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑ 100 –∫–Ω–∏–≥
        let books = [
            // –†—É—Å—Å–∫–∞—è –∫–ª–∞—Å—Å–∏–∫–∞
            { id: 1, title: "–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ", author: "–§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π", genre: "classic" },
            { id: 2, title: "–ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞", author: "–ú–∏—Ö–∞–∏–ª –ë—É–ª–≥–∞–∫–æ–≤", genre: "fantasy" },
            { id: 3, title: "–í–æ–π–Ω–∞ –∏ –º–∏—Ä", author: "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π", genre: "history" },
            { id: 4, title: "–ê–Ω–Ω–∞ –ö–∞—Ä–µ–Ω–∏–Ω–∞", author: "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π", genre: "romance" },
            { id: 5, title: "–û—Ç—Ü—ã –∏ –¥–µ—Ç–∏", author: "–ò–≤–∞–Ω –¢—É—Ä–≥–µ–Ω–µ–≤", genre: "classic" },
            { id: 6, title: "–ú—ë—Ä—Ç–≤—ã–µ –¥—É—à–∏", author: "–ù–∏–∫–æ–ª–∞–π –ì–æ–≥–æ–ª—å", genre: "classic" },
            { id: 7, title: "–ï–≤–≥–µ–Ω–∏–π –û–Ω–µ–≥–∏–Ω", author: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—É—à–∫–∏–Ω", genre: "poetry" },
            { id: 8, title: "–ì–µ—Ä–æ–π –Ω–∞—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏", author: "–ú–∏—Ö–∞–∏–ª –õ–µ—Ä–º–æ–Ω—Ç–æ–≤", genre: "classic" },
            { id: 9, title: "–ò–¥–∏–æ—Ç", author: "–§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π", genre: "classic" },
            { id: 10, title: "–ë—Ä–∞—Ç—å—è –ö–∞—Ä–∞–º–∞–∑–æ–≤—ã", author: "–§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π", genre: "classic" },

            // –ó–∞—Ä—É–±–µ–∂–Ω–∞—è –∫–ª–∞—Å—Å–∏–∫–∞
            { id: 11, title: "1984", author: "–î–∂–æ—Ä–¥–∂ –û—Ä—É—ç–ª–ª", genre: "sci-fi" },
            { id: 12, title: "–£–±–∏—Ç—å –ø–µ—Ä–µ—Å–º–µ—à–Ω–∏–∫–∞", author: "–•–∞—Ä–ø–µ—Ä –õ–∏", genre: "fiction" },
            { id: 13, title: "–í–µ–ª–∏–∫–∏–π –ì—ç—Ç—Å–±–∏", author: "–§—Ä—ç–Ω—Å–∏—Å –°–∫–æ—Ç—Ç –§–∏—Ü–¥–∂–µ—Ä–∞–ª—å–¥", genre: "fiction" },
            { id: 14, title: "–ì–æ—Ä–¥–æ—Å—Ç—å –∏ –ø—Ä–µ–¥—É–±–µ–∂–¥–µ–Ω–∏–µ", author: "–î–∂–µ–π–Ω –û—Å—Ç–∏–Ω", genre: "romance" },
            { id: 15, title: "–ù–∞–¥ –ø—Ä–æ–ø–∞—Å—Ç—å—é –≤–æ —Ä–∂–∏", author: "–î–∂–µ—Ä–æ–º –î. –°—ç–ª–∏–Ω–¥–∂–µ—Ä", genre: "fiction" },
            { id: 16, title: "–ü–æ–≤–µ–ª–∏—Ç–µ–ª—å –º—É—Ö", author: "–£–∏–ª—å—è–º –ì–æ–ª–¥–∏–Ω–≥", genre: "fiction" },
            { id: 17, title: "–£–ª–∏—Å—Å", author: "–î–∂–µ–π–º—Å –î–∂–æ–π—Å", genre: "classic" },
            { id: 18, title: "–ú–æ–±–∏ –î–∏–∫", author: "–ì–µ—Ä–º–∞–Ω –ú–µ–ª–≤–∏–ª–ª", genre: "adventure" },
            { id: 19, title: "–ü—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ", author: "–§—Ä–∞–Ω—Ü –ö–∞—Ñ–∫–∞", genre: "fiction" },
            { id: 20, title: "–ú–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∏–Ω—Ü", author: "–ê–Ω—Ç—É–∞–Ω –¥–µ –°–µ–Ω—Ç-–≠–∫–∑—é–ø–µ—Ä–∏", genre: "fiction" },

            // –§—ç–Ω—Ç–µ–∑–∏
            { id: 21, title: "–í–ª–∞—Å—Ç–µ–ª–∏–Ω –∫–æ–ª–µ—Ü", author: "–î–∂. –†. –†. –¢–æ–ª–∫–∏–Ω", genre: "fantasy" },
            { id: 22, title: "–•–æ–±–±–∏—Ç", author: "–î–∂. –†. –†. –¢–æ–ª–∫–∏–Ω", genre: "fantasy" },
            { id: 23, title: "–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä –∏ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∫–∞–º–µ–Ω—å", author: "–î–∂–æ–∞–Ω –†–æ—É–ª–∏–Ω–≥", genre: "fantasy" },
            { id: 24, title: "–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä –∏ –¢–∞–π–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞", author: "–î–∂–æ–∞–Ω –†–æ—É–ª–∏–Ω–≥", genre: "fantasy" },
            { id: 25, title: "–•—Ä–æ–Ω–∏–∫–∏ –ù–∞—Ä–Ω–∏–∏", author: "–ö–ª–∞–π–≤ –°. –õ—å—é–∏—Å", genre: "fantasy" },
            { id: 26, title: "–ò–≥—Ä–∞ –ø—Ä–µ—Å—Ç–æ–ª–æ–≤", author: "–î–∂–æ—Ä–¥–∂ –†. –†. –ú–∞—Ä—Ç–∏–Ω", genre: "fantasy" },
            { id: 27, title: "–í–µ–¥—å–º–∞–∫", author: "–ê–Ω–¥–∂–µ–π –°–∞–ø–∫–æ–≤—Å–∫–∏–π", genre: "fantasy" },
            { id: 28, title: "–ò–º—è –≤–µ—Ç—Ä–∞", author: "–ü–∞—Ç—Ä–∏–∫ –†–æ—Ç—Ñ—É—Å", genre: "fantasy" },
            { id: 29, title: "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–µ –±–æ–≥–∏", author: "–ù–∏–ª –ì–µ–π–º–∞–Ω", genre: "fantasy" },
            { id: 30, title: "–•—Ä–æ–Ω–∏–∫–∏ –ë–µ–ª–æ–≥–æ –ö–æ–≥—Ç—è", author: "–†–æ–±–∏–Ω –•–æ–±–±", genre: "fantasy" },

            // –ù–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞
            { id: 31, title: "–ê–≤—Ç–æ—Å—Ç–æ–ø–æ–º –ø–æ –≥–∞–ª–∞–∫—Ç–∏–∫–µ", author: "–î—É–≥–ª–∞—Å –ê–¥–∞–º—Å", genre: "sci-fi" },
            { id: 32, title: "–î—é–Ω–∞", author: "–§—Ä—ç–Ω–∫ –ì–µ—Ä–±–µ—Ä—Ç", genre: "sci-fi" },
            { id: 33, title: "–°–æ–ª—è—Ä–∏—Å", author: "–°—Ç–∞–Ω–∏—Å–ª–∞–≤ –õ–µ–º", genre: "sci-fi" },
            { id: 34, title: "–û—Å–Ω–æ–≤–∞–Ω–∏–µ", author: "–ê–π–∑–µ–∫ –ê–∑–∏–º–æ–≤", genre: "sci-fi" },
            { id: 35, title: "–Ø, —Ä–æ–±–æ—Ç", author: "–ê–π–∑–µ–∫ –ê–∑–∏–º–æ–≤", genre: "sci-fi" },
            { id: 36, title: "451¬∞ –ø–æ –§–∞—Ä–µ–Ω–≥–µ–π—Ç—É", author: "–†—ç–π –ë—Ä—ç–¥–±–µ—Ä–∏", genre: "sci-fi" },
            { id: 37, title: "–ú–∞—à–∏–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏", author: "–ì–µ—Ä–±–µ—Ä—Ç –£—ç–ª–ª—Å", genre: "sci-fi" },
            { id: 38, title: "–í–æ–π–Ω–∞ –º–∏—Ä–æ–≤", author: "–ì–µ—Ä–±–µ—Ä—Ç –£—ç–ª–ª—Å", genre: "sci-fi" },
            { id: 39, title: "–ü–∏–∫–Ω–∏–∫ –Ω–∞ –æ–±–æ—á–∏–Ω–µ", author: "–ê—Ä–∫–∞–¥–∏–π –∏ –ë–æ—Ä–∏—Å –°—Ç—Ä—É–≥–∞—Ü–∫–∏–µ", genre: "sci-fi" },
            { id: 40, title: "–¢—Ä—É–¥–Ω–æ –±—ã—Ç—å –±–æ–≥–æ–º", author: "–ê—Ä–∫–∞–¥–∏–π –∏ –ë–æ—Ä–∏—Å –°—Ç—Ä—É–≥–∞—Ü–∫–∏–µ", genre: "sci-fi" },

            // –î–µ—Ç–µ–∫—Ç–∏–≤—ã
            { id: 41, title: "–£–±–∏–π—Å—Ç–≤–æ –≤ –í–æ—Å—Ç–æ—á–Ω–æ–º —ç–∫—Å–ø—Ä–µ—Å—Å–µ", author: "–ê–≥–∞—Ç–∞ –ö—Ä–∏—Å—Ç–∏", genre: "mystery" },
            { id: 42, title: "–î–µ—Å—è—Ç—å –Ω–µ–≥—Ä–∏—Ç—è—Ç", author: "–ê–≥–∞—Ç–∞ –ö—Ä–∏—Å—Ç–∏", genre: "mystery" },
            { id: 43, title: "–®–µ—Ä–ª–æ–∫ –•–æ–ª–º—Å: –≠—Ç—é–¥ –≤ –±–∞–≥—Ä–æ–≤—ã—Ö —Ç–æ–Ω–∞—Ö", author: "–ê—Ä—Ç—É—Ä –ö–æ–Ω–∞–Ω –î–æ–π–ª", genre: "mystery" },
            { id: 44, title: "–°–æ–±–∞–∫–∞ –ë–∞—Å–∫–µ—Ä–≤–∏–ª–µ–π", author: "–ê—Ä—Ç—É—Ä –ö–æ–Ω–∞–Ω –î–æ–π–ª", genre: "mystery" },
            { id: 45, title: "–ú–æ–ª—á–∞–Ω–∏–µ —è–≥–Ω—è—Ç", author: "–¢–æ–º–∞—Å –•–∞—Ä—Ä–∏—Å", genre: "mystery" },
            { id: 46, title: "–î–µ–≤—É—à–∫–∞ —Å —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–æ–π –¥—Ä–∞–∫–æ–Ω–∞", author: "–°—Ç–∏–≥ –õ–∞—Ä—Å—Å–æ–Ω", genre: "mystery" },
            { id: 47, title: "–ò—Å—á–µ–∑–Ω—É–≤—à–∞—è", author: "–î–∂–∏–ª–ª–∏–∞–Ω –§–ª–∏–Ω–Ω", genre: "mystery" },
            { id: 48, title: "–£–±–∏–π—Å—Ç–≤–æ –†–æ–¥–∂–µ—Ä–∞ –≠–∫—Ä–æ–π–¥–∞", author: "–ê–≥–∞—Ç–∞ –ö—Ä–∏—Å—Ç–∏", genre: "mystery" },
            { id: 49, title: "–£–±–∏–π—Å—Ç–≤–∞ –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É", author: "–ê–≥–∞—Ç–∞ –ö—Ä–∏—Å—Ç–∏", genre: "mystery" },
            { id: 50, title: "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –®–µ—Ä–ª–æ–∫–∞ –•–æ–ª–º—Å–∞", author: "–ê—Ä—Ç—É—Ä –ö–æ–Ω–∞–Ω –î–æ–π–ª", genre: "mystery" },

            // –†–æ–º–∞–Ω—ã
            { id: 51, title: "–¢–∏—Ö–∏–π –î–æ–Ω", author: "–ú–∏—Ö–∞–∏–ª –®–æ–ª–æ—Ö–æ–≤", genre: "romance" },
            { id: 52, title: "–î–∂–µ–π–Ω –≠–π—Ä", author: "–®–∞—Ä–ª–æ—Ç—Ç–∞ –ë—Ä–æ–Ω—Ç–µ", genre: "romance" },
            { id: 53, title: "–ì—Ä–æ–∑–æ–≤–æ–π –ø–µ—Ä–µ–≤–∞–ª", author: "–≠–º–∏–ª–∏ –ë—Ä–æ–Ω—Ç–µ", genre: "romance" },
            { id: 54, title: "–ú–∞–ª–µ–Ω—å–∫–∏–µ –∂–µ–Ω—â–∏–Ω—ã", author: "–õ—É–∏–∑–∞ –ú—ç–π –û–ª–∫–æ—Ç—Ç", genre: "romance" },
            { id: 55, title: "–í –ø–æ–∏—Å–∫–∞—Ö —É—Ç—Ä–∞—á–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏", author: "–ú–∞—Ä—Å–µ–ª—å –ü—Ä—É—Å—Ç", genre: "fiction" },
            { id: 56, title: "–õ–æ–ª–∏—Ç–∞", author: "–í–ª–∞–¥–∏–º–∏—Ä –ù–∞–±–æ–∫–æ–≤", genre: "fiction" },
            { id: 57, title: "–î–æ–∫—Ç–æ—Ä –ñ–∏–≤–∞–≥–æ", author: "–ë–æ—Ä–∏—Å –ü–∞—Å—Ç–µ—Ä–Ω–∞–∫", genre: "romance" },
            { id: 58, title: "–°—Ç–æ –ª–µ—Ç –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–∞", author: "–ì–∞–±—Ä–∏—ç–ª—å –ì–∞—Ä—Å–∏–∞ –ú–∞—Ä–∫–µ—Å", genre: "fiction" },
            { id: 59, title: "–õ—é–±–æ–≤—å –≤–æ –≤—Ä–µ–º—è —á—É–º—ã", author: "–ì–∞–±—Ä–∏—ç–ª—å –ì–∞—Ä—Å–∏–∞ –ú–∞—Ä–∫–µ—Å", genre: "romance" },
            { id: 60, title: "–ù–æ—Ä—Ç–µ–Ω–≥–µ—Ä—Å–∫–æ–µ –∞–±–±–∞—Ç—Å—Ç–≤–æ", author: "–î–∂–µ–π–Ω –û—Å—Ç–∏–Ω", genre: "romance" },

            // –ë–∏–æ–≥—Ä–∞—Ñ–∏–∏
            { id: 61, title: "–°—Ç–∏–≤ –î–∂–æ–±—Å", author: "–£–æ–ª—Ç–µ—Ä –ê–π–∑–µ–∫—Å–æ–Ω", genre: "biography" },
            { id: 62, title: "–≠–π–Ω—à—Ç–µ–π–Ω: –ï–≥–æ –∂–∏–∑–Ω—å –∏ –í—Å–µ–ª–µ–Ω–Ω–∞—è", author: "–£–æ–ª—Ç–µ—Ä –ê–π–∑–µ–∫—Å–æ–Ω", genre: "biography" },
            { id: 63, title: "–õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í–∏–Ω—á–∏", author: "–£–æ–ª—Ç–µ—Ä –ê–π–∑–µ–∫—Å–æ–Ω", genre: "biography" },
            { id: 64, title: "–ú–æ—è –∂–∏–∑–Ω—å", author: "–§—ë–¥–æ—Ä –®–∞–ª—è–ø–∏–Ω", genre: "biography" },
            { id: 65, title: "–î–Ω–µ–≤–Ω–∏–∫ –ê–Ω–Ω—ã –§—Ä–∞–Ω–∫", author: "–ê–Ω–Ω–∞ –§—Ä–∞–Ω–∫", genre: "biography" },
            { id: 66, title: "–î–æ–ª–≥–æ–µ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ", author: "–î–æ—Ä–æ—Ç–∏ –î—ç–π", genre: "biography" },
            { id: 67, title: "–ê–≤—Ç–æ–±–∏–æ–≥—Ä–∞—Ñ–∏—è", author: "–ù–µ–ª—å—Å–æ–Ω –ú–∞–Ω–¥–µ–ª–∞", genre: "biography" },
            { id: 68, title: "–ú–∞—Ö–∞—Ç–º–∞ –ì–∞–Ω–¥–∏", author: "–õ—É–∏ –§–∏—à–µ—Ä", genre: "biography" },
            { id: 69, title: "–ñ–∏–∑–Ω—å –≤ –ø–∏—Å—å–º–∞—Ö", author: "–í–∏–Ω—Å–µ–Ω—Ç –í–∞–Ω –ì–æ–≥", genre: "biography" },
            { id: 70, title: "–ß–µ—Ä—á–∏–ª–ª—å", author: "–ú–∞—Ä—Ç–∏–Ω –ì–∏–ª–±–µ—Ä—Ç", genre: "biography" },

            // –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ
            { id: 71, title: "–í–æ–π–Ω–∞ –∏ –º–∏—Ä", author: "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π", genre: "history" },
            { id: 72, title: "–¢–∏—Ö–∏–π –î–æ–Ω", author: "–ú–∏—Ö–∞–∏–ª –®–æ–ª–æ—Ö–æ–≤", genre: "history" },
            { id: 73, title: "–ü—ë—Ç—Ä –ü–µ—Ä–≤—ã–π", author: "–ê–ª–µ–∫—Å–µ–π –¢–æ–ª—Å—Ç–æ–π", genre: "history" },
            { id: 74, title: "–ö–∞–º–æ –≥—Ä—è–¥–µ—à–∏", author: "–ì–µ–Ω—Ä–∏–∫ –°–µ–Ω–∫–µ–≤–∏—á", genre: "history" },
            { id: 75, title: "–ò–≤–∞–Ω –ì—Ä–æ–∑–Ω—ã–π", author: "–í–∞—Å–∏–ª–∏–π –ö–ª—é—á–µ–≤—Å–∫–∏–π", genre: "history" },
            { id: 76, title: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ù–µ–≤—Å–∫–∏–π", author: "–í–∞—Å–∏–ª–∏–π –Ø–Ω", genre: "history" },
            { id: 77, title: "–ö–ª–µ–æ–ø–∞—Ç—Ä–∞", author: "–°—Ç–µ–π—Å–∏ –®–∏—Ñ—Ñ", genre: "history" },
            { id: 78, title: "–°–ø–∞—Ä—Ç–∞–∫", author: "–†–∞—Ñ–∞—ç–ª–ª–æ –î–∂–æ–≤–∞–Ω—å–æ–ª–∏", genre: "history" },
            { id: 79, title: "–¢—Ä–æ–µ—Ü–∞—Ä—Å—Ç–≤–∏–µ", author: "–õ–æ –ì—É–∞–Ω—å—á–∂—É–Ω", genre: "history" },
            { id: 80, title: "–ü–æ—Å–ª–µ–¥–Ω–∏–π –º–∞–≥–Ω–∞—Ç", author: "–§—Ä—ç–Ω—Å–∏—Å –°–∫–æ—Ç—Ç –§–∏—Ü–¥–∂–µ—Ä–∞–ª—å–¥", genre: "history" },

            // –ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è
            { id: 81, title: "–û—Å—Ç—Ä–æ–≤ —Å–æ–∫—Ä–æ–≤–∏—â", author: "–†–æ–±–µ—Ä—Ç –õ—å—é–∏—Å –°—Ç–∏–≤–µ–Ω—Å–æ–Ω", genre: "adventure" },
            { id: 82, title: "–†–æ–±–∏–Ω–∑–æ–Ω –ö—Ä—É–∑–æ", author: "–î–∞–Ω–∏—ç–ª—å –î–µ—Ñ–æ", genre: "adventure" },
            { id: 83, title: "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –ì—É–ª–ª–∏–≤–µ—Ä–∞", author: "–î–∂–æ–Ω–∞—Ç–∞–Ω –°–≤–∏—Ñ—Ç", genre: "adventure" },
            { id: 84, title: "–î–µ—Ç–∏ –∫–∞–ø–∏—Ç–∞–Ω–∞ –ì—Ä–∞–Ω—Ç–∞", author: "–ñ—é–ª—å –í–µ—Ä–Ω", genre: "adventure" },
            { id: 85, title: "–¢–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –æ—Å—Ç—Ä–æ–≤", author: "–ñ—é–ª—å –í–µ—Ä–Ω", genre: "adventure" },
            { id: 86, title: "–î–≤–∞–¥—Ü–∞—Ç—å —Ç—ã—Å—è—á –ª—å—ë –ø–æ–¥ –≤–æ–¥–æ–π", author: "–ñ—é–ª—å –í–µ—Ä–Ω", genre: "adventure" },
            { id: 87, title: "–ö–æ–ø–∏ —Ü–∞—Ä—è –°–æ–ª–æ–º–æ–Ω–∞", author: "–ì–µ–Ω—Ä–∏ –†–∞–π–¥–µ—Ä –•–∞–≥–≥–∞—Ä–¥", genre: "adventure" },
            { id: 88, title: "–ë–µ–ª—ã–π –ö–ª—ã–∫", author: "–î–∂–µ–∫ –õ–æ–Ω–¥–æ–Ω", genre: "adventure" },
            { id: 89, title: "–ó–æ–≤ –ø—Ä–µ–¥–∫–æ–≤", author: "–î–∂–µ–∫ –õ–æ–Ω–¥–æ–Ω", genre: "adventure" },
            { id: 90, title: "–¢—Ä–∏ –º—É—à–∫–µ—Ç—ë—Ä–∞", author: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –î—é–º–∞", genre: "adventure" },

            // –ü–æ—ç–∑–∏—è
            { id: 91, title: "–ï–≤–≥–µ–Ω–∏–π –û–Ω–µ–≥–∏–Ω", author: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—É—à–∫–∏–Ω", genre: "poetry" },
            { id: 92, title: "–°—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è", author: "–ê–Ω–Ω–∞ –ê—Ö–º–∞—Ç–æ–≤–∞", genre: "poetry" },
            { id: 93, title: "–õ–∏—Ä–∏–∫–∞", author: "–°–µ—Ä–≥–µ–π –ï—Å–µ–Ω–∏–Ω", genre: "poetry" },
            { id: 94, title: "–°—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è –∏ –ø–æ—ç–º—ã", author: "–í–ª–∞–¥–∏–º–∏—Ä –ú–∞—è–∫–æ–≤—Å–∫–∏–π", genre: "poetry" },
            { id: 95, title: "–õ–∏—Å—Ç—å—è —Ç—Ä–∞–≤—ã", author: "–£–æ–ª—Ç –£–∏—Ç–º–µ–Ω", genre: "poetry" },
            { id: 96, title: "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–º–µ–¥–∏—è", author: "–î–∞–Ω—Ç–µ –ê–ª–∏–≥—å–µ—Ä–∏", genre: "poetry" },
            { id: 97, title: "–°–æ–Ω–µ—Ç—ã", author: "–£–∏–ª—å—è–º –®–µ–∫—Å–ø–∏—Ä", genre: "poetry" },
            { id: 98, title: "–¶–≤–µ—Ç—ã –∑–ª–∞", author: "–®–∞—Ä–ª—å –ë–æ–¥–ª–µ—Ä", genre: "poetry" },
            { id: 99, title: "–ü–æ—ç–º—ã", author: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ë–ª–æ–∫", genre: "poetry" },
            { id: 100, title: "–†–µ–∫–≤–∏–µ–º", author: "–ê–Ω–Ω–∞ –ê—Ö–º–∞—Ç–æ–≤–∞", genre: "poetry" }
        ];

        // –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∂–∞–Ω—Ä–æ–≤
        const genres = {
            "fiction": { name: "–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞", icon: "auto_stories", color: "genre-fiction" },
            "mystery": { name: "–î–µ—Ç–µ–∫—Ç–∏–≤", icon: "search", color: "genre-mystery" },
            "fantasy": { name: "–§—ç–Ω—Ç–µ–∑–∏", icon: "auto_awesome", color: "genre-fantasy" },
            "sci-fi": { name: "–ù–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞", icon: "rocket_launch", color: "genre-sci-fi" },
            "romance": { name: "–†–æ–º–∞–Ω", icon: "favorite", color: "genre-romance" },
            "biography": { name: "–ë–∏–æ–≥—Ä–∞—Ñ–∏—è", icon: "person", color: "genre-biography" },
            "history": { name: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π", icon: "history_edu", color: "genre-history" },
            "classic": { name: "–ö–ª–∞—Å—Å–∏–∫–∞", icon: "school", color: "genre-classic" },
            "adventure": { name: "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è", icon: "explore", color: "genre-adventure" },
            "horror": { name: "–£–∂–∞—Å—ã", icon: "mood_bad", color: "genre-horror" },
            "poetry": { name: "–ü–æ—ç–∑–∏—è", icon: "format_quote", color: "genre-poetry" },
            "drama": { name: "–î—Ä–∞–º–∞", icon: "theater_comedy", color: "genre-drama" },
            "comedy": { name: "–ö–æ–º–µ–¥–∏—è", icon: "sentiment_very_satisfied", color: "genre-comedy" }
        };

        // State
        let currentAuthor = 'all';
        let currentGenres = new Set();
        let filteredBooksCount = books.length;
        let currentPage = 1;
        const booksPerPage = 12;
        let editingBookId = null;
        let deletingBookId = null;

        // DOM Elements
        const authorFilter = document.getElementById('authorFilter');
        const genreFilters = document.getElementById('genreFilters');
        const bookList = document.getElementById('bookList');
        const activeFilters = document.getElementById('activeFilters');
        const resultsCounter = document.getElementById('resultsCounter');
        const booksCount = document.getElementById('booksCount');
        const pagination = document.getElementById('pagination');
        const addBookBtn = document.getElementById('addBookBtn');
        const bookModal = document.getElementById('bookModal');
        const bookForm = document.getElementById('bookForm');
        const bookTitle = document.getElementById('bookTitle');
        const bookAuthor = document.getElementById('bookAuthor');
        const bookGenre = document.getElementById('bookGenre');
        const cancelBtn = document.getElementById('cancelBtn');
        const saveBtn = document.getElementById('saveBtn');
        const modalTitle = document.getElementById('modalTitle');
        const modalIcon = document.getElementById('modalIcon');
        const confirmModal = document.getElementById('confirmModal');
        const confirmCancel = document.getElementById('confirmCancel');
        const confirmDelete = document.getElementById('confirmDelete');
        const confirmTitle = document.getElementById('confirmTitle');
        const confirmMessage = document.getElementById('confirmMessage');

        // Initialize
        function init() {
            populateAuthors();
            populateGenres();
            populateGenreSelect();
            renderBooks();
            updateActiveFilters();
            updateResultsCounter();
            renderPagination();
            setupEventListeners();
        }

        // Setup event listeners
        function setupEventListeners() {
            addBookBtn.addEventListener('click', () => openBookModal());
            cancelBtn.addEventListener('click', () => closeBookModal());
            confirmCancel.addEventListener('click', () => closeConfirmModal());
            confirmDelete.addEventListener('click', () => deleteBook());

            bookForm.addEventListener('submit', (e) => {
                e.preventDefault();
                saveBook();
            });

            authorFilter.addEventListener('change', (e) => {
                currentAuthor = e.target.value;
                currentPage = 1;
                renderBooks();
                updateActiveFilters();
                updateResultsCounter();
                renderPagination();
            });
        }

        // Populate authors dropdown
        function populateAuthors() {
            const authors = [...new Set(books.map(book => book.author))];
            authors.sort();

            authors.forEach(author => {
                const option = document.createElement('option');
                option.value = author;
                option.textContent = author;
                authorFilter.appendChild(option);
            });
        }

        // Populate genre buttons
        function populateGenres() {
            Object.entries(genres).forEach(([key, genre]) => {
                const button = document.createElement('button');
                button.className = `genre-btn ${genre.color}`;
                button.innerHTML = `
                    <span class="material-icons">${genre.icon}</span>
                    ${genre.name}
                `;
                button.dataset.genre = key;
                button.addEventListener('click', () => toggleGenre(key));
                genreFilters.appendChild(button);
            });
        }

        // Populate genre select for modal
        function populateGenreSelect() {
            Object.entries(genres).forEach(([key, genre]) => {
                const option = document.createElement('option');
                option.value = key;
                option.textContent = genre.name;
                bookGenre.appendChild(option);
            });
        }

        // Get filtered books
        function getFilteredBooks() {
            return books.filter(book => {
                // Filter by author
                if (currentAuthor !== 'all' && book.author !== currentAuthor) {
                    return false;
                }

                // Filter by genre
                if (currentGenres.size > 0 && !currentGenres.has(book.genre)) {
                    return false;
                }

                return true;
            });
        }

        // Get paginated books
        function getPaginatedBooks() {
            const filteredBooks = getFilteredBooks();
            const startIndex = (currentPage - 1) * booksPerPage;
            const endIndex = startIndex + booksPerPage;
            return filteredBooks.slice(startIndex, endIndex);
        }

        // Update results counter
        function updateResultsCounter() {
            const filteredBooks = getFilteredBooks();
            filteredBooksCount = filteredBooks.length;

            booksCount.textContent = filteredBooksCount;

            // Add animation
            resultsCounter.classList.add('updated');
            setTimeout(() => {
                resultsCounter.classList.remove('updated');
            }, 300);

            // Update counter color
            if (filteredBooksCount === 0) {
                resultsCounter.style.background = 'var(--error)';
            } else if (filteredBooksCount < 10) {
                resultsCounter.style.background = 'var(--warning)';
            } else {
                resultsCounter.style.background = 'var(--primary)';
            }
        }

        // Render books based on filters
        function renderBooks() {
            bookList.innerHTML = '';

            const paginatedBooks = getPaginatedBooks();

            if (paginatedBooks.length === 0) {
                const emptyState = document.createElement('div');
                emptyState.className = 'empty-state';
                emptyState.innerHTML = `
                    <span class="material-icons">book</span>
                    <h3>–ö–Ω–∏–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                    <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</p>
                `;
                bookList.appendChild(emptyState);
                return;
            }

            paginatedBooks.forEach(book => {
                const genre = genres[book.genre];
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card';
                bookCard.innerHTML = `
                    <div class="book-info">
                        <h3 class="book-title">${book.title}</h3>
                        <p class="book-author">
                            <span class="material-icons">person_outline</span>
                            ${book.author}
                        </p>
                    </div>
                    <div class="genre-icon ${genre.color}" data-tooltip="${genre.name}">
                        <span class="material-icons">${genre.icon}</span>
                    </div>
                    <div class="book-actions">
                        <button class="action-btn edit-btn" data-id="${book.id}">
                            <span class="material-icons">edit</span>
                        </button>
                        <button class="action-btn delete-btn" data-id="${book.id}">
                            <span class="material-icons">delete</span>
                        </button>
                    </div>
                `;
                bookList.appendChild(bookCard);
            });

            // Add event listeners to action buttons
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const bookId = parseInt(btn.dataset.id);
                    editBook(bookId);
                });
            });

            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const bookId = parseInt(btn.dataset.id);
                    openConfirmModal(bookId);
                });
            });
        }

        // Render pagination
        function renderPagination() {
            pagination.innerHTML = '';
            const filteredBooks = getFilteredBooks();
            const totalPages = Math.ceil(filteredBooks.length / booksPerPage);

            if (totalPages <= 1) return;

            // Previous button
            const prevBtn = document.createElement('button');
            prevBtn.className = 'pagination-btn';
            prevBtn.innerHTML = '<span class="material-icons">chevron_left</span>';
            prevBtn.disabled = currentPage === 1;
            prevBtn.onclick = () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderBooks();
                    renderPagination();
                }
            };
            pagination.appendChild(prevBtn);

            // Page numbers
            const maxVisiblePages = 5;
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);

            if (endPage - startPage + 1 < maxVisiblePages) {
                startPage = Math.max(1, endPage - maxVisiblePages + 1);
            }

            for (let i = startPage; i <= endPage; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.className = `pagination-btn ${i === currentPage ? 'active' : ''}`;
                pageBtn.textContent = i;
                pageBtn.onclick = () => {
                    currentPage = i;
                    renderBooks();
                    renderPagination();
                };
                pagination.appendChild(pageBtn);
            }

            // Next button
            const nextBtn = document.createElement('button');
            nextBtn.className = 'pagination-btn';
            nextBtn.innerHTML = '<span class="material-icons">chevron_right</span>';
            nextBtn.disabled = currentPage === totalPages;
            nextBtn.onclick = () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    renderBooks();
                    renderPagination();
                }
            };
            pagination.appendChild(nextBtn);

            // Page info
            const pageInfo = document.createElement('div');
            pageInfo.className = 'pagination-info';
            pageInfo.textContent = `–°—Ç—Ä–∞–Ω–∏—Ü–∞ ${currentPage} –∏–∑ ${totalPages}`;
            pagination.appendChild(pageInfo);
        }

        // Toggle genre filter
        function toggleGenre(genre) {
            if (currentGenres.has(genre)) {
                currentGenres.delete(genre);
            } else {
                currentGenres.add(genre);
            }

            currentPage = 1; // Reset to first page when filtering

            // Update UI
            const genreBtn = document.querySelector(`[data-genre="${genre}"]`);
            genreBtn.classList.toggle('active');

            renderBooks();
            updateActiveFilters();
            updateResultsCounter();
            renderPagination();
        }

        // Update active filters display
        function updateActiveFilters() {
            activeFilters.innerHTML = '';

            if (currentAuthor !== 'all' || currentGenres.size > 0) {
                const title = document.createElement('div');
                title.textContent = '–ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:';
                title.style.fontWeight = '500';
                activeFilters.appendChild(title);

                if (currentAuthor !== 'all') {
                    const tag = document.createElement('div');
                    tag.className = 'active-filter-tag';
                    tag.innerHTML = `
                        <span class="material-icons">person</span>
                        –ê–≤—Ç–æ—Ä: ${currentAuthor}
                        <span class="material-icons" style="cursor: pointer; margin-left: 4px;" onclick="clearAuthorFilter()">close</span>
                    `;
                    activeFilters.appendChild(tag);
                }

                currentGenres.forEach(genre => {
                    const genreObj = genres[genre];
                    const tag = document.createElement('div');
                    tag.className = 'active-filter-tag';
                    tag.innerHTML = `
                        <span class="material-icons">${genreObj.icon}</span>
                        ${genreObj.name}
                        <span class="material-icons" style="cursor: pointer; margin-left: 4px;" onclick="clearGenreFilter('${genre}')">close</span>
                    `;
                    activeFilters.appendChild(tag);
                });

                const clearBtn = document.createElement('button');
                clearBtn.className = 'clear-btn';
                clearBtn.innerHTML = '<span class="material-icons">clear_all</span> –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ';
                clearBtn.onclick = clearAllFilters;
                activeFilters.appendChild(clearBtn);
            }
        }

        // Open book modal for adding or editing
        function openBookModal(bookId = null) {
            if (bookId) {
                // Editing mode
                const book = books.find(b => b.id === bookId);
                if (book) {
                    bookTitle.value = book.title;
                    bookAuthor.value = book.author;
                    bookGenre.value = book.genre;
                    modalTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–∏–≥—É';
                    modalIcon.textContent = 'edit';
                    editingBookId = bookId;
                }
            } else {
                // Adding mode
                bookTitle.value = '';
                bookAuthor.value = '';
                bookGenre.value = 'fiction';
                modalTitle.textContent = '–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–Ω–∏–≥—É';
                modalIcon.textContent = 'library_add';
                editingBookId = null;
            }

            bookModal.classList.add('active');
        }

        // Close book modal
        function closeBookModal() {
            bookModal.classList.remove('active');
            bookForm.reset();
            editingBookId = null;
        }

        // Save book (add or edit)
        function saveBook() {
            const title = bookTitle.value.trim();
            const author = bookAuthor.value.trim();
            const genre = bookGenre.value;

            if (!title || !author || !genre) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
                return;
            }

            if (editingBookId) {
                // Edit existing book
                const bookIndex = books.findIndex(b => b.id === editingBookId);
                if (bookIndex !== -1) {
                    books[bookIndex] = {
                        ...books[bookIndex],
                        title,
                        author,
                        genre
                    };
                }
            } else {
                // Add new book
                const newId = Math.max(...books.map(b => b.id)) + 1;
                books.push({
                    id: newId,
                    title,
                    author,
                    genre
                });
            }

            closeBookModal();
            renderBooks();
            updateResultsCounter();
            renderPagination();
            updateActiveFilters();

            // Update authors dropdown
            authorFilter.innerHTML = '<option value="all">–í—Å–µ –∞–≤—Ç–æ—Ä—ã</option>';
            populateAuthors();
        }

        // Edit book
        function editBook(bookId) {
            openBookModal(bookId);
        }

        // Open confirmation modal for deletion
        function openConfirmModal(bookId) {
            const book = books.find(b => b.id === bookId);
            if (book) {
                deletingBookId = bookId;
                confirmTitle.textContent = `–£–¥–∞–ª–∏—Ç—å "${book.title}"?`;
                confirmMessage.textContent = `–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É "${book.title}" –∞–≤—Ç–æ—Ä–∞ ${book.author}? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.`;
                confirmModal.classList.add('active');
            }
        }

        // Close confirmation modal
        function closeConfirmModal() {
            confirmModal.classList.remove('active');
            deletingBookId = null;
        }

        // Delete book
        function deleteBook() {
            if (deletingBookId) {
                books = books.filter(book => book.id !== deletingBookId);
                closeConfirmModal();
                renderBooks();
                updateResultsCounter();
                renderPagination();
                updateActiveFilters();

                // Update authors dropdown
                authorFilter.innerHTML = '<option value="all">–í—Å–µ –∞–≤—Ç–æ—Ä—ã</option>';
                populateAuthors();

                // Reset to first page if current page is empty
                const filteredBooks = getFilteredBooks();
                const totalPages = Math.ceil(filteredBooks.length / booksPerPage);
                if (currentPage > totalPages && totalPages > 0) {
                    currentPage = totalPages;
                }
            }
        }

        // Clear author filter
        function clearAuthorFilter() {
            currentAuthor = 'all';
            currentPage = 1;
            authorFilter.value = 'all';
            renderBooks();
            updateActiveFilters();
            updateResultsCounter();
            renderPagination();
        }

        // Clear genre filter
        function clearGenreFilter(genre) {
            currentGenres.delete(genre);
            currentPage = 1;
            const genreBtn = document.querySelector(`[data-genre="${genre}"]`);
            if (genreBtn) genreBtn.classList.remove('active');
            renderBooks();
            updateActiveFilters();
            updateResultsCounter();
            renderPagination();
        }

        // Clear all filters
        function clearAllFilters() {
            currentAuthor = 'all';
            currentGenres.clear();
            currentPage = 1;
            authorFilter.value = 'all';
            document.querySelectorAll('.genre-btn').forEach(btn => btn.classList.remove('active'));
            renderBooks();
            updateActiveFilters();
            updateResultsCounter();
            renderPagination();
        }

        // Initialize the app
        init();
    </script>
</body>

</html>